---
alwaysApply: true
description: "ì‹œìŠ¤í…œ ì˜¤ë¥˜ ë°œìƒ ì‹œ ì¦‰ì‹œ ë³µêµ¬ë¥¼ ìœ„í•œ ì‘ê¸‰ ë¡¤ë°± ê°€ì´ë“œ"
---

# ğŸš¨ Emergency Rollback Guide

## âš¡ ì¦‰ì‹œ ì‹¤í–‰ - ì‹œìŠ¤í…œ ì „ì²´ ì˜¤ë¥˜ ì‹œ

### ğŸ”´ CRITICAL: ì„œë²„ê°€ ì‹œì‘ë˜ì§€ ì•ŠëŠ” ê²½ìš°
```bash
# 1. ì¦‰ì‹œ ëª¨ë“  ë³€ê²½ì‚¬í•­ ìŠ¤íƒœì‹œ
git stash push -m "Emergency stash - $(date)"

# 2. ë§ˆì§€ë§‰ ì •ìƒ ì»¤ë°‹ìœ¼ë¡œ ë¡¤ë°±
git reset --hard HEAD~1

# 3. ì„œë²„ ì‹œì‘ í…ŒìŠ¤íŠ¸
python app.py
```

### ğŸ”´ CRITICAL: íŠ¹ì • í˜ì´ì§€ê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²½ìš°
```bash
# 1. ë¬¸ì œ íŒŒì¼ë§Œ ë¡¤ë°±
git checkout HEAD -- templates/children/detail.html
git checkout HEAD -- app.py

# 2. ì¦‰ì‹œ í…ŒìŠ¤íŠ¸
python -m py_compile app.py
python app.py
```

## ğŸ›¡ï¸ ë‹¨ê³„ë³„ ë³µêµ¬ ì ˆì°¨

### Step 1: í˜„ì¬ ìƒíƒœ ì§„ë‹¨
```bash
# Python ë¬¸ë²• ì˜¤ë¥˜ í™•ì¸
python -m py_compile app.py 2>&1 | head -5

# ì„œë²„ ì‹œì‘ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
timeout 5 python app.py 2>&1 | grep -E "(ERROR|Traceback)" | head -3
```

### Step 2: ë°±ì—… ìƒíƒœ í™•ì¸
```bash
# ìµœê·¼ ë°±ì—… ë¸Œëœì¹˜ í™•ì¸
git branch | grep backup | tail -3

# ìµœê·¼ ì •ìƒ ì»¤ë°‹ í™•ì¸
git log --oneline -5
```

### Step 3: ì„ íƒì  ë¡¤ë°±
```bash
# íŠ¹ì • íŒŒì¼ë§Œ ë¡¤ë°± (ê¶Œì¥)
git checkout HEAD~1 -- app.py

# ë˜ëŠ” ì „ì²´ ë¡¤ë°± (ìµœí›„ ìˆ˜ë‹¨)
git reset --hard HEAD~1
```

## ğŸ“ íŒŒì¼ë³„ ì‘ê¸‰ ë³µêµ¬ ë°©ë²•

### app.py ì˜¤ë¥˜ ì‹œ:
```bash
# 1. ë°±ì—…ì—ì„œ ë³µêµ¬
cp app.py.backup.* app.py  # ë°±ì—…ì´ ìˆëŠ” ê²½ìš°

# 2. ë˜ëŠ” Gitì—ì„œ ë³µêµ¬
git show HEAD~1:app.py > app.py

# 3. ê²€ì¦
python -m py_compile app.py
```

### í…œí”Œë¦¿ íŒŒì¼ ì˜¤ë¥˜ ì‹œ:
```bash
# 1. í•´ë‹¹ í…œí”Œë¦¿ë§Œ ë¡¤ë°±
git checkout HEAD -- templates/children/detail.html

# 2. ë˜ëŠ” ë°±ì—…ì—ì„œ ë³µêµ¬
cp templates/children/detail.html.backup templates/children/detail.html

# 3. ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸
curl -s http://localhost:5000/children/1 | grep "<!DOCTYPE"
```

### JavaScript ì˜¤ë¥˜ ì‹œ:
```bash
# 1. static/js íŒŒì¼ ë¡¤ë°±
git checkout HEAD -- static/js/script.js

# 2. ë¸Œë¼ìš°ì € ìºì‹œ í´ë¦¬ì–´ í›„ í…ŒìŠ¤íŠ¸
# Ctrl+F5 ë˜ëŠ” Ctrl+Shift+R
```

## ğŸ” ì˜¤ë¥˜ ì›ì¸ ì‹ ì† ì§„ë‹¨

### Python ì˜¤ë¥˜ íŒ¨í„´:
```bash
# ë“¤ì—¬ì“°ê¸° ì˜¤ë¥˜
python -m py_compile app.py 2>&1 | grep -i "indent"

# Import ì˜¤ë¥˜
python -m py_compile app.py 2>&1 | grep -i "import"

# ë¬¸ë²• ì˜¤ë¥˜
python -m py_compile app.py 2>&1 | grep -i "syntax"
```

### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜:
```bash
# ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ ì¡´ì¬ í™•ì¸
ls -la *.db

# Flask-SQLAlchemy í…ŒìŠ¤íŠ¸
python -c "
from app import app, db
with app.app_context():
    print('DB connection OK')
"
```

## ğŸ“Š ë³µêµ¬ ì„±ê³µ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… ê¸°ë³¸ ì‹œìŠ¤í…œ ë™ì‘:
- [ ] `python -m py_compile app.py` ì„±ê³µ
- [ ] `python app.py` ì„œë²„ ì‹œì‘ ì„±ê³µ
- [ ] ë©”ì¸ í˜ì´ì§€ (`/`) ì ‘ê·¼ ê°€ëŠ¥
- [ ] ë¡œê·¸ì¸ í˜ì´ì§€ ì ‘ê·¼ ê°€ëŠ¥

### âœ… í•µì‹¬ ê¸°ëŠ¥ ë™ì‘:
- [ ] ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ ë Œë”ë§
- [ ] ì•„ë™ ëª©ë¡ í˜ì´ì§€ ë Œë”ë§  
- [ ] í¬ì¸íŠ¸ ì…ë ¥ í˜ì´ì§€ ë Œë”ë§
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì½ê¸°/ì“°ê¸° ì‘ë™

### âœ… ë¬¸ì œ í•´ê²° í™•ì¸:
- [ ] ì´ì „ì— ë°œìƒí–ˆë˜ ì˜¤ë¥˜ ë©”ì‹œì§€ í•´ê²°
- [ ] JavaScript ì½˜ì†” ì˜¤ë¥˜ ì—†ìŒ
- [ ] ëª¨ë“  ë²„íŠ¼ê³¼ ë§í¬ ì •ìƒ ì‘ë™

## ğŸ”„ ë³µêµ¬ í›„ ì•ˆì „í•œ ì¬ì‘ì—… ì ˆì°¨

### 1. ì•ˆì „í•œ ë¸Œëœì¹˜ ìƒì„±:
```bash
# ë³µêµ¬ ì™„ë£Œ í›„ ìƒˆë¡œìš´ ì‘ì—… ë¸Œëœì¹˜ ìƒì„±
git checkout -b fix/step-by-step-$(date +%Y%m%d)
```

### 2. ë‹¨ê³„ë³„ ì¬ìˆ˜ì •:
```bash
# ì‘ì€ ë‹¨ìœ„ë¡œ ìˆ˜ì • â†’ ê²€ì¦ â†’ ì»¤ë°‹ ë°˜ë³µ
# ì˜ˆ: í•¨ìˆ˜ 1ê°œì”© ìˆ˜ì •
git add app.py
git commit -m "Fix: íŠ¹ì • í•¨ìˆ˜ ë“¤ì—¬ì“°ê¸° ìˆ˜ì •"

python -m py_compile app.py  # ê²€ì¦
```

### 3. ì •ê¸°ì  ë°±ì—…:
```bash
# ì¤‘ìš”í•œ ë‹¨ê³„ë§ˆë‹¤ ë°±ì—… ìƒì„±
cp app.py app.py.backup.$(date +%Y%m%d_%H%M%S)
git tag backup-$(date +%Y%m%d-%H%M%S)
```

## ğŸ†˜ ìµœí›„ ìˆ˜ë‹¨ - ì™„ì „ ì´ˆê¸°í™”

### ì‹¬ê°í•œ ì†ìƒìœ¼ë¡œ ë³µêµ¬ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°:
```bash
# 1. í˜„ì¬ ì‘ì—… ì™„ì „ ë°±ì—…
git stash push -m "Complete backup before reset"
git tag emergency-backup-$(date +%Y%m%d-%H%M%S)

# 2. ì›ê²© ì €ì¥ì†Œì˜ ì•ˆì „í•œ ìƒíƒœë¡œ ì´ˆê¸°í™”
git fetch origin
git reset --hard origin/main

# 3. ê°•ì œ í´ë¦°ì—…
git clean -fd

# 4. ì˜ì¡´ì„± ì¬ì„¤ì¹˜
pip install -r requirements.txt

# 5. ë°ì´í„°ë² ì´ìŠ¤ ì¬ì´ˆê¸°í™” (í•„ìš”ì‹œ)
python -c "
from app import app, db
with app.app_context():
    db.create_all()
    print('Database reset complete')
"
```

## ğŸ“ ì‘ê¸‰ ìƒí™© ì—°ë½ì²˜

### ì˜¤ë¥˜ ë°œìƒ ì‹œ ì¦‰ì‹œ ìˆ˜í–‰í•  ê²ƒ:
1. **ì‘ì—… ì¤‘ë‹¨** - ì¶”ê°€ ìˆ˜ì • ì ˆëŒ€ ê¸ˆì§€
2. **ìƒíƒœ ë°±ì—…** - `git stash` ë˜ëŠ” íŒŒì¼ ë³µì‚¬
3. **ë¡¤ë°± ì‹¤í–‰** - ìœ„ì˜ ì ˆì°¨ ë”°ë¼ ë³µêµ¬
4. **ê²€ì¦ ì™„ë£Œ** - ì •ìƒ ì‘ë™ í™•ì¸ í›„ ì‘ì—… ì¬ê°œ

### ë³µêµ¬ ë¶ˆê°€ ì‹œ:
1. **ì „ì²´ ì´ˆê¸°í™”** ê³ ë ¤
2. **ë°±ì—… ë¸Œëœì¹˜ì—ì„œ ì¬ì‹œì‘**
3. **ì´ì „ ì•ˆì • ë²„ì „ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°**

## ğŸ’¡ ì˜ˆë°©ì„ ìœ„í•œ êµí›ˆ

### ì´ë²ˆ ì‚¬ê³ ì—ì„œ ë°°ìš´ ì :
1. **ëŒ€ëŸ‰ ìˆ˜ì • ê¸ˆì§€** - í•œ ë²ˆì— ì—¬ëŸ¬ íŒŒì¼ ìˆ˜ì •í•˜ì§€ ì•Šê¸°
2. **ë‹¨ê³„ë³„ ê²€ì¦** - ê° ìˆ˜ì • í›„ ì¦‰ì‹œ í…ŒìŠ¤íŠ¸
3. **ë°±ì—… í•„ìˆ˜** - ìœ„í—˜í•œ ì‘ì—… ì „ ë°˜ë“œì‹œ ë°±ì—…
4. **ì ì§„ì  ì ‘ê·¼** - ì‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ ì‘ì—…

### ì•ìœ¼ë¡œ ì§€ì¼œì•¼ í•  ì›ì¹™:
- **Safety First** - ì†ë„ë³´ë‹¤ ì•ˆì „ì„± ìš°ì„ 
- **Test Early** - ëŠ¦ì€ í…ŒìŠ¤íŠ¸ëŠ” ë¹„ì‹¼ í…ŒìŠ¤íŠ¸
- **Backup Always** - ë°±ì—… ì—†ëŠ” ìˆ˜ì • ê¸ˆì§€
- **One Step** - í•œ ë²ˆì— í•˜ë‚˜ì”©ë§Œ ìˆ˜ì •

---

> ğŸš¨ **ê¸°ì–µí•˜ì„¸ìš”**: ì´ ê°€ì´ë“œëŠ” ì‘ê¸‰ìƒí™©ì—ì„œ ë¹ ë¥¸ ë³µêµ¬ë¥¼ ìœ„í•œ ê²ƒì…ë‹ˆë‹¤. 
> ë³µêµ¬ ì™„ë£Œ í›„ì—ëŠ” ë°˜ë“œì‹œ ì›ì¸ ë¶„ì„ì„ í†µí•´ ì¬ë°œ ë°©ì§€ ëŒ€ì±…ì„ ìˆ˜ë¦½í•˜ì„¸ìš”!